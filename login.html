<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>MyTestPlaydate Login</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #ffffff, #95d5b2);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  h1 { color: #1b4332; margin-bottom:40px; text-align:center; }
  .login-button { display:block; width:220px; padding:15px; margin:10px 0; border:none; border-radius:12px; font-size:16px; font-weight:bold; cursor:pointer; transition: transform 0.1s, box-shadow 0.1s; }
  .login-button:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
  #guestPlay { background-color:#f4a261; color:white; }
  #googleLogin { background-color:#4285F4; color:white; }
  #twitterLogin { background-color:#1DA1F2; color:white; }
  footer { position:absolute; bottom:10px; font-size:12px; color:#333; }
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js"></script>

</head>
<body>
<h1>MyTestPlaydate</h1>
<button id="guestPlay" class="login-button">ゲストでプレイ</button>
<button id="googleLogin" class="login-button">Googleでログイン</button>
<button id="twitterLogin" class="login-button">Twitterでログイン</button>

<footer>© 2025 Matcha. All rights reserved.</footer>

<script>
  // Firebase 初期化
  const firebaseConfig = {
    apiKey: "AIzaSyBhnEso3ozk4xG0k9x-69DC0HrKs8flzeU",
    authDomain: "mytestplaydate-4bc69.firebaseapp.com",
    projectId: "mytestplaydate-4bc69",
    storageBucket: "mytestplaydate-4bc69.appspot.com",
    messagingSenderId: "995628219885",
    appId: "1:995628219885:web:333b93e79445febd3fbbe4"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const googleProvider = new firebase.auth.GoogleAuthProvider();
  const twitterProvider = new firebase.auth.TwitterAuthProvider();

  // ゲストログイン
  document.getElementById("guestPlay").addEventListener("click", function(){
    localStorage.setItem("userName", "ゲスト");
    localStorage.setItem("userId", "guest_" + Date.now());
    localStorage.setItem("isGuest", "true");
    window.location.href = "profile.html";
  });

  // Googleログイン
  document.getElementById("googleLogin").addEventListener("click", function(){
    auth.signInWithPopup(googleProvider)
      .then(result => {
        const user = result.user;
        localStorage.setItem("userName", user.displayName);
        localStorage.setItem("userId", user.uid);
        localStorage.setItem("isGuest", "false");
        window.location.href = "profile.html";
      })
      .catch(error => alert("Googleログイン失敗：" + error.message));
  });

  // Twitterログイン
  document.getElementById("twitterLogin").addEventListener("click", function(){
    auth.signInWithPopup(twitterProvider)
      .then(result => {
        const user = result.user;
        localStorage.setItem("userName", user.displayName);
        localStorage.setItem("userId", user.uid);
        localStorage.setItem("isGuest", "false");
        window.location.href = "profile.html";
      })
      .catch(error => alert("Twitterログイン失敗：" + error.message));
  });
</script>
</body>
</html>
